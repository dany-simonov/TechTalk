<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TechTalk{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home_page.css') }}">
    {% if request.endpoint == 'store' %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/store.css') }}">
    {% elif request.endpoint == 'game' %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/game.css') }}">
    {% endif %}
    {% block styles %}{% endblock %}
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo-title">
                <a href="/" class="home-link">
                    <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="TechTalk Logo" class="logo">
                    <h1>TechTalk</h1>
                </a>
            </div>
            <div class="user-stats">
                <div class="streak">
                    <span class="fire">üî•</span>
                    <span>{{ streak }}</span>
                </div>
                <div class="crystals">
                    <span class="crystal">üíé</span>
                    <span>{{ crystals }}</span>
                </div>
                <a href="{{ url_for('profile', nickname=current_user['nickname']) }}" class="profile-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
                <a href="{{ url_for('inventory') }}" class="inventory-link">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</a>
                <a href="{{ url_for('store') }}" class="shop-link">–ú–∞–≥–∞–∑–∏–Ω</a>
                <div class="theme-switcher">
                    <button class="theme-btn" data-theme="light">‚òÄÔ∏è</button>
                    <button class="theme-btn" data-theme="dark">üåô</button>
                </div>
            </div>
        </div>
    </header>
   
    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>¬© 2024 TechTalk –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
    </footer>

    <script>
    document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.documentElement.setAttribute('data-theme', btn.dataset.theme);
            localStorage.setItem('theme', btn.dataset.theme);
        });
    });

    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
